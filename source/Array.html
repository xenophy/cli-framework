<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">/* vim: set expandtab tabstop=4 shiftwidth=4 softtabstop=4: */
/* jshint supernew:true */

<span id='CLI-Array'>/**
</span> * This file is part of CLI Framework
 *
 * @class CLI.Array
 */

(function() {

    &quot;use strict&quot;;

    CLI.Array = new (function() {

        var arrayPrototype  = Array.prototype,
            slice           = arrayPrototype.slice,
            CLIArray;

        CLIArray = {

            // {{{ toArray

            toArray: function(iterable, start, end){

                if (!iterable || !iterable.length) {
                    return [];
                }

                if (typeof iterable === &#39;string&#39;) {
                    iterable = iterable.split(&#39;&#39;);
                }

                return slice.call(iterable, start || 0, end || iterable.length);
            },

            // }}}
            // {{{ from

            from: function(value, newReference) {

                if (value === undefined || value === null) {
                    return [];
                }

                if (CLI.isArray(value)) {
                    return (newReference) ? slice.call(value) : value;
                }

                var type = typeof value;

                if (value &amp;&amp; value.length !== undefined &amp;&amp; type !== &#39;string&#39; &amp;&amp; (type !== &#39;function&#39; || !value.apply)) {
                    return CLIArray.toArray(value);
                }

                return [value];
            },

            // }}}
            // {{{ each

            each: function(array, fn, scope, reverse) {

                array = CLIArray.from(array);

                var i, ln = array.length;

                if (reverse !== true) {

                    for (i = 0; i &lt; ln; i++) {

                        if (fn.call(scope || array[i], array[i], i, array) === false) {
                            return i;
                        }

                    }

                } else {

                    for (i = ln - 1; i &gt; -1; i--) {

                        if (fn.call(scope || array[i], array[i], i, array) === false) {

                            return i;

                        }

                    }

                }

                return true;
            }

            // }}}

        };

        return CLIArray;
    });

})();

/*
 * Local variables:
 * tab-width: 4
 * c-basic-offset: 4
 * c-hanging-comment-ender-p: nil
 * End:
 */
</pre>
</body>
</html>
